## WDL that runs FCS workflow 
### Hailey Loucks 5/26/23
contact hloucks@ucsc.edu

This workflow takes an assembly, the FCS-GX database, and the FCS script. It will run FCS-GTX and output the reports generated by that process as well as a gzipped fasta that should have the contamination contigs removed and a gzipped fasta file with just the contamination for review. 

### Before getting started 
1. Download the wrapper script and database as described [here](https://github.com/ncbi/fcs/wiki/FCS-GX)
- I recommend using the s5cmd for the database download even if you're running on a local server, it worked better for me than the wrapper script 
2. Make sure to check database integrity 
3. Edit the inputs or table to include the location of all database files

If running locally, the inputs file should look something like this:

`{
 "RunFCS.assembly": "Assembly.fa.gz",
 "RunFCS.wrapperScript": "fcs.py",
 "RunFCS.blast_div": "/my_tmpfs/gxdb/all.blast_div.tsv.gz",
 "RunFCS.GXI": "/my_tmpfs/gxdb/all.gxi",
 "RunFCS.GXS": "/my_tmpfs/gxdb/all.gxs",
 "RunFCS.manifest": "/my_tmpfs/gxdb/all.manifest",
 "RunFCS.metaJSON": "/my_tmpfs/gxdb/all.meta.jsonl",
 "RunFCS.seq_info":"/my_tmpfs/gxdb/all.seq_info.tsv.gz",
 "RunFCS.taxa": "/my_tmpfs/gxdb/all.taxa.tsv",
 "RunFCS.threadCount": 20,
 "RunFCS.preemptible": 1
}`

The script will localize all of the database files - you can ignore the readme file. 



### As of 5/26/23 
This workflow only runs FCS-GX, I plan to incorporate FCS-Adapter in the future